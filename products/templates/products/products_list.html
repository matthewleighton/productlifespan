{% load static %}

{% if user_products|length %}
	<table class="table sortable">
		<tr>
			<th></th>
			<th>Name</th>
			<th>Price</th>
			<th>Purchase Date</th>
			<th>Current Monthly Price</th>
		</tr>
		{% for product in user_products %}
			<tr>
				<td class="td-product-image">
					<a href="{% url 'products:product' product.id %}">
						<img src="{{ product.get_image_url }}" alt="Placeholder" class="product-image-small img-fluid">
					</a>
				</td>
				<td><a href="{% url 'products:product' product.id %}">{{ product.name }}</a></td>
				<td>{{ product.get_formatted_price }}</td>
				<td>{{ product.purchase_date }}</td>
				<td>{{ product.get_current_monthly_price_string }}</td>
			</tr>
		{% endfor %}
	</table>
{% else %}
	<p>You don't have any products.</p>
{% endif %}

<a href="{% url 'products:new' %}">Add Product</a>

<script src="{% static 'products/sorttable.js' %}" defer></script>